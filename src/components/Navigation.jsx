import React, {useState, useLayoutEffect} from "react";
import { Link, withRouter } from "react-router-dom";

import './navbar.css'

import 'bootstrap/dist/css/bootstrap.min.css';

import { AiOutlineMenu } from "react-icons/ai";
import {string} from "prop-types";

function Navigation(props) {

  const [isNavCollapsed, setIsNavCollapsed] = useState(true);

  const handleNavCollapse = () => setIsNavCollapsed(!isNavCollapsed);

  const [currentTab, setCurrentTab] = useState(props.location.pathname)



  React.useEffect(() => {
    if (currentTab != String(props.location.pathname)) {
      if (isNavCollapsed == false) {
        setIsNavCollapsed(!isNavCollapsed)
      }
      setCurrentTab(props.location.pathname)

    }
  }, [currentTab,
           props.location.pathname])



  return (
      <div className="navigation" >
        <nav className={"navbar navbar-expand-lg"} style={{minHeight: '8vh', zIndex: 10000, position: "relative"}} >
          <div className={"container-fluid"}>

            {isNavCollapsed &&

            <svg className={'brand'}
                 style={{
                   maxHeight: "8vh"
                 }}>
              <Link to="/">
              <svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 142">
                <path
                    d="M291,96.93c-2.17,0-4.35.1-6.51,0-1.93-.12-2.82.54-3.3,2.5-1.46,6-3.15,11.92-4.78,17.87-.13.48.09,1.33-.5,1.37s-.62-.78-.76-1.31c-1.6-6-3.25-12.08-4.79-18.15-.41-1.62-1.1-2.4-2.89-2.28-2.15.14-4.33,0-6.5,0-3.33,0-3.34,0-3.34,3.25,0,10.69,0,21.37,0,32.06,0,5.86-.79,5.25,5.23,5.27,3.09,0,3.14-.06,3.15-3.16,0-5.35,0-10.69,0-16,0-1-.32-2,.28-2.88a7.06,7.06,0,0,1,.85,2.59q2.31,8.67,4.53,17.35c.19.73.2,1.71,1,1.9a12.88,12.88,0,0,0,6.14,0c1.29-.33,1.15-2,1.44-3.14,1.57-6,3.09-11.94,4.61-17.91a1.61,1.61,0,0,1,.77-1.09c0,.41.06.81.06,1.22,0,5.26,0,10.5,0,15.76,0,6.21-.79,5.33,5.68,5.37,2.38,0,2.51-.15,2.52-2.59,0-5.91,0-11.82,0-17.72s0-11.63,0-17.44c0-2.72-.11-2.8-2.9-2.81"
                    fill="#fff"></path>
                <path
                    d="M364.77,96.93c-1,0-2.07,0-3.11,0-2.78,0-2.86.09-2.87,2.85,0,4.78,0,9.56,0,14.34,0,.48.36,1.28-.25,1.39-.46.08-.68-.74-.91-1.24-1.65-3.66-3.33-7.31-5-11-3-6.65-2.95-6.61-10.21-6.39-1.69,0-2.39.6-2.34,2.3.08,2.53,0,5.07,0,7.6q0,14.05,0,28.12c0,2.44.14,2.54,2.54,2.59q1.69,0,3.39,0c2.56,0,2.67-.13,2.68-2.73,0-5.25,0-10.5,0-15.75,0-.67-.32-1.82.27-1.9s.83,1.08,1.12,1.71c2.05,4.41,4,8.85,6,13.28,2.49,5.52,2.49,5.52,8.6,5.39,2.49-.05,2.55-.07,2.55-2.53,0-5.91,0-11.82,0-17.72s0-11.82,0-17.72c0-2.4-.19-2.55-2.56-2.6"
                    fill="#fff"></path>
                <path
                    d="M394,131.8c0-2.51-.19-2.68-2.74-2.71-3,0-6,0-9,0-1.22,0-1.69-.41-1.63-1.63.07-1.68.06-3.37,0-5.06,0-1.2.43-1.69,1.65-1.65,1.88.06,3.77,0,5.65,0s2.73-.5,2.57-2.4a13.08,13.08,0,0,1,0-1.4c.05-4.77.26-4.58-4.63-4.56-5.5,0-5.44,0-5.27-5.37,0-1.37.46-1.77,1.8-1.73,3,.08,6,0,9,0,1.43,0,2.09-.56,2.05-2s0-2.63,0-3.94c-.05-2.36-.18-2.51-2.62-2.52q-8.32,0-16.67,0c-2.79,0-2.89.09-2.89,2.81,0,5.72,0,11.43,0,17.15s0,11.62,0,17.43c0,2.89.29,3.17,3.28,3.18,4.62,0,9.23,0,13.85,0,6.44-.06,5.58,1,5.62-5.69"
                    fill="#fff"></path>
                <path
                    d="M260.15,91.92c1.22,0,2.45,0,3.67,0,2.55,0,2.73-.2,2.74-2.73,0-4,.07-8.06,0-12.09,0-1.47.41-2,1.92-1.92s3.2,0,4.8,0c2.33,0,2.67-.33,2.67-2.58,0-6.66.6-6-5.77-6-3.59,0-3.59,0-3.59-3.52,0-3.32,0-3.32,3.2-3.32h2.83c6.62,0,5.87.8,6-6.1,0-1.87-.78-2.45-2.55-2.43-5.37.06-10.75,0-16.12,0-2.39,0-2.73.36-2.74,2.8,0,5.72,0,11.44,0,17.16,0,5.9,0,11.81,0,17.72,0,2.23.74,2.91,3,3"
                    fill="#fff"></path>
                <path
                    d="M333.72,96.92c-1.22,0-2.45,0-3.67,0-2.91,0-3,.1-3,3q0,12.53,0,25c0,3.47,0,6.94,0,10.4,0,1.54.56,2.26,2.15,2.2,1.41-.06,2.83,0,4.24,0,2.77,0,2.86-.1,2.87-2.84,0-5.81,0-11.63,0-17.44s0-11.81,0-17.71c0-2.37-.24-2.58-2.55-2.64"
                    fill="#fff"></path>
                <path
                    d="M343.48,92.42c3.28,0,3.26,0,4.08-3.22q2.7-10.7,5.43-21.4c1.15-4.51,2.31-9,3.44-13.54.24-1,.69-2.27-.53-2.73a9.22,9.22,0,0,0-5-.1c-1.4.28-1.19,1.81-1.44,2.81-3,11.55-5.77,23.14-8.82,34.66-.76,2.89-.13,3.85,2.84,3.52"
                    fill="#fff"></path>
                <path
                    d="M325.57,65.25c-.32,1.74-1.52,2.47-3.11,2.8l-.28,0c-3.23.51-3.48.29-3.48-3v-1.4a5.22,5.22,0,0,1,0-1.12c.25-1.09-.8-2.78.71-3.18a5.36,5.36,0,0,1,5.1.86c1.48,1.34,1.37,3.16,1.05,5m4.75,10.69c-.48-1.1-.52-1.8.57-2.58,4.58-3.27,4.79-8,3.9-12.87s-4.21-7.69-9.11-8.69c-4.57-.93-9.19-.38-13.78-.5-2.36-.06-2.71.36-2.72,2.81,0,5.8,0,11.61,0,17.41,0,4.77,0,9.55,0,14.32,0,6.94-.7,6,6.22,6.08,3.27,0,3.29,0,3.3-3.31,0-3.65,0-7.31,0-11,0-.55-.39-1.39.67-1.53A1.3,1.3,0,0,1,321,77.24a9,9,0,0,0,.51,1.3c1.52,3.71,3.11,7.4,4.53,11.14.62,1.62,1.48,2.46,3.31,2.28,1.4-.14,2.82,0,4.23,0,2.85,0,3.22-.53,2.16-3.11-1.78-4.31-3.58-8.61-5.45-12.88"
                    fill="#fff"></path>
                <path
                    d="M289.21,63c.07-2.62,1.11-3.69,3.49-3.79,2.67-.12,3.79.71,4,3.46a112.48,112.48,0,0,1,0,17.89c-.22,2.71-1.39,3.55-4.09,3.39-2.34-.13-3.35-1.2-3.41-3.85-.07-2.9,0-5.79,0-8.69s-.06-5.61,0-8.41M280.26,83.2C281.4,87.88,284.1,91,289,92a19.4,19.4,0,0,0,6.74.27c5.59-.75,8.79-3.93,10-9.49.84-3.72.27-7.47.4-11.2,0-2.91.15-5.82,0-8.72-.33-5.21-2.37-9.47-7.68-11.33a16.79,16.79,0,0,0-8.92-.51c-5.62,1.13-8.58,4.05-9.37,9.74-1,6.89-.65,13.83-.17,20.76a10.24,10.24,0,0,0,.26,1.66"
                    fill="#fff"></path>
                <path
                    d="M310.6,121.06c-2.4,0-2.45,0-1.94-2.27s1-4.33,1.56-6.48c.07-.31-.07-.83.38-.85s.54.45.62.82c.46,2.08.9,4.16,1.35,6.24.57,2.56.57,2.56-2,2.54m14.67,12.79c-2.55-10.52-5.08-21-7.68-31.55-1.55-6.26-.23-5.3-6.85-5.38-1.13,0-2.27.08-3.39,0a2.18,2.18,0,0,0-2.58,1.95q-4.53,18.21-9.07,36.4c-.41,1.67,0,2.16,1.83,2.24,1.6.06,3.21-.06,4.8,0a2.08,2.08,0,0,0,2.49-2c.32-1.64.91-3.23,1.27-4.87a1.3,1.3,0,0,1,1.53-1.2,39.93,39.93,0,0,0,5.36,0c1.82-.19,2.41.64,2.78,2.2,1.51,6.36,1.54,6.36,8,5.88h.28c1.36,0,1.88-.68,1.54-2-.14-.54-.22-1.1-.35-1.65"
                    fill="#fff"></path>
                <rect x="2.82" y="3.79" width="391.18" height="133.9" fill="none"></rect>
                <polygon
                    points="175.28 3.79 150.54 23 144.49 52.94 146.41 56.23 174.06 43.66 202.25 87.44 194.93 102.57 206.83 112.64 206.83 136 234.6 136 252.73 98.52 229.12 75.92 219.11 79.31 234.03 56.52 229.88 26.39 206.26 3.79 175.28 3.79"
                    fill="#fff"></polygon>
                <path
                    d="M142.8,57.87,131.27,41.45l-49.11-7L58.54,47.1l-5,9.55L63.83,80V61h9.26v41.81h.28c3.27,0,35.74-.17,50.74-.11l-4.77-34.21Z"
                    fill="#fff"></path>
                <path
                    d="M172.36,49.41,149.1,60l-4.26,1.94-20.53,9.33,4.21,30.22.18,1.3a29.36,29.36,0,0,1,3,.08c.27.27,0,29.84,0,33.15h4.91V102.85l16.06-14.31,16.81,14.31V136h3.78V112.27l16.93-13.75,1.21,1,5.7-11.8Z"
                    fill="#fff"></path>
                <rect x="2.82" y="3.79" width="391.18" height="133.9" fill="none"></rect>
                <polygon
                    points="2.82 98.52 15.48 136 47.02 136 47.02 102.85 63.83 102.85 63.83 91.21 50.91 61.96 49.56 58.89 34.93 26.39 2.82 98.52"
                    fill="#fff"></polygon>
              </svg>
              </Link>
            </svg>
            }


            <button className="navbar-toggler" type="button" data-toggle="collapse"
                    data-target="navbarResponsiveCustom" aria-controls="navbarCustom"
                    aria-expanded={!isNavCollapsed ? true : false} aria-label="Toggle navigation"
                    onClick={handleNavCollapse}>
            <AiOutlineMenu style={{color: "white", transform: "scale(2)"}}></AiOutlineMenu>
          </button>
          <div className={`${isNavCollapsed ? 'collapse' : ''} navbar-collapse`} id="navbarResponsiveCustom">
            <ul className={"navbar-nav ml-auto"}>
              <li
                className={`nav-item  ${
                  props.location.pathname === "/" ? "active" : ""
                }`}
              >
                <Link className={"nav-link"} style={{fontWeight: 'bold'}}   to="/">
                  Home
                  <span className={"sr-only"}>(current)</span>
                </Link>
              </li>
              <li
                className={`nav-item  ${
                  props.location.pathname === "/DataHighlights" ? "active" : ""
                }`}
              >
                <Link className={"nav-link"} style={{fontWeight: 'bold'}} to="/DataHighlights">
                  Data Highlights
                </Link>
              </li>
            </ul>
          </div>

            {isNavCollapsed &&
            <div className="border-left induforLogo" style={{height: '6vh', paddingLeft: "10px"}}>
            <span className={"induforLogo"} style={{fontWeight: 'bold',  color: "white", paddingRight: "10px"}}>
              Designed by
            </span>
              <a target={"_blank"} href="https://induforgroup.com/about-parent/about-us/usa/" rel="noopener noreferrer"
                 className={'induforLogo'} style={{height: '6vh'}}>
                <svg className={'induforLogo'} viewBox="0 0 821.000000 1085.000000" preserveAspectRatio="xMidYMid meet"
                     style={{height: '6vh'}}>
                  <g transform="translate(0.000000,1085.000000) scale(0.100000,-0.100000)" stroke="none">
                    <path
                        d="M3725 10839 c-298 -28 -703 -114 -950 -202 l-40 -14 -3 -3875 -2 -3875 132 -41 c350 -111 706 -172 1086 -188 l162 -7 0 4106 0 4107 -147 -1 c-82 -1 -188 -5 -238 -10z"/>
                    <path
                        d="M4920 6745 l0 -4025 28 6 c144 34 307 78 405 108 l117 37 -2 3876 -3 3876 -85 29 c-89 30 -419 118 -445 118 -13 0 -15 -475 -15 -4025z"/>
                    <path
                        d="M1244 9698 c-713 -691 -1143 -1595 -1234 -2593 -15 -167 -12 -589 5 -764 85 -849 423 -1636 979 -2280 97 -112 353 -371 367 -371 5 0 9 1377 9 3060 0 1683 -2 3060 -5 3060 -3 0 -57 -51 -121 -112z"/>
                    <path
                        d="M6830 6750 c0 -2250 3 -3060 11 -3060 20 0 311 299 420 431 779 942 1098 2158 883 3359 -126 702 -433 1357 -898 1912 -103 123 -391 418 -408 418 -4 0 -8 -1377 -8 -3060z"/>
                    <path
                        d="M5450 1790 c-72 -15 -166 -67 -205 -113 -48 -56 -75 -146 -75 -253 l0 -84 -80 0 -80 0 0 -130 0 -130 80 0 80 0 0 -535 0 -535 185 0 185 0 0 535 0 535 125 0 125 0 0 130 0 130 -126 0 -127 0 6 66 c8 105 51 133 200 134 l67 0 0 115 0 114 -37 11 c-50 15 -266 22 -323 10z"/>
                    <path d="M0 895 l0 -885 200 0 200 0 0 885 0 885 -200 0 -200 0 0 -885z"/>
                    <path
                        d="M2980 1521 l0 -262 -37 26 c-54 37 -153 65 -252 71 -281 19 -502 -142 -576 -421 -29 -110 -40 -273 -27 -393 40 -355 221 -542 526 -542 145 0 236 30 336 112 42 34 50 35 50 6 0 -33 36 -87 66 -98 14 -6 86 -10 160 -10 l135 0 -3 848 c-2 663 -6 852 -16 869 -22 40 -50 47 -209 51 l-153 4 0 -261z m-61 -484 l56 -22 3 -322 2 -323 -42 -31 c-93 -68 -204 -94 -298 -69 -58 15 -121 80 -144 146 -29 86 -41 233 -28 342 21 170 86 264 209 298 63 18 169 10 242 -19z"/>
                    <path
                        d="M1417 1350 c-90 -16 -192 -51 -274 -95 -46 -24 -84 -41 -87 -37 -2 4 -7 22 -11 39 -3 18 -20 44 -37 58 -29 24 -34 25 -174 25 l-144 0 0 -665 0 -665 185 0 185 0 0 494 0 494 83 23 c110 30 261 38 306 14 61 -31 61 -35 61 -555 l0 -470 190 0 191 0 -3 548 c-4 622 -3 611 -84 700 -59 66 -126 92 -249 97 -49 2 -112 0 -138 -5z"/>
                    <path
                        d="M6385 1345 c-125 -24 -251 -90 -339 -178 -130 -131 -187 -281 -188 -492 -1 -216 51 -354 182 -486 128 -128 286 -189 490 -189 435 0 710 312 669 757 -21 233 -149 428 -340 522 -46 22 -111 48 -144 56 -89 23 -236 27 -330 10z m224 -271 c98 -29 173 -124 200 -252 14 -68 14 -236 0 -304 -24 -112 -102 -211 -187 -236 -100 -30 -216 -5 -281 59 -74 74 -103 167 -103 329 -1 216 70 355 204 401 66 23 100 23 167 3z"/>
                    <path
                        d="M8010 1336 c-72 -21 -111 -40 -178 -90 -40 -30 -64 -42 -66 -34 -3 7 -7 25 -10 40 -3 15 -17 40 -30 55 l-24 28 -151 3 -151 3 0 -665 0 -666 185 0 185 0 0 475 0 474 31 16 c57 30 183 56 297 62 l112 6 0 147 c0 145 0 148 -22 154 -37 9 -129 5 -178 -8z"/>
                    <path
                        d="M3632 793 c4 -629 1 -608 93 -699 75 -75 123 -89 305 -88 130 0 154 3 230 28 47 15 113 43 146 62 l62 34 6 -34 c3 -18 18 -44 32 -57 24 -23 33 -24 175 -27 l149 -4 0 666 0 666 -185 0 -185 0 0 -499 0 -499 -87 -28 c-115 -37 -255 -41 -300 -8 -64 46 -63 41 -63 562 l0 472 -191 0 -190 0 3 -547z"/>
                  </g>
                </svg>

              </a>
            </div>
            }

        </div>
      </nav>
    </div>
  );
}

export default withRouter(Navigation);
